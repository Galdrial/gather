{% extends "base.html" %}
{% block title %}Cerca nel Forum - {{ block.super }}{% endblock %}

{% block content %}

<div>
    <form action="{% url 'search' %}">
        <input type="text" name="q" placeholder="Cerca nel forum">
        <button type="submit">Cerca</button>
    </form>
</div>

<h1>Risultati della ricerca per '{{ querystring }}'</h1>

<h4>Post individuati:</h4>
{% for post in posts %}

<div class="card mb-2">
    <div class="card-body">
      <h5 class="card-title">{{ post.content|truncatewords:"10" }}</h5>
      <h6 class="card-subtitle mb-2 text-body-secondary">di: <a href="{{ post.author.get_absolute_url }}">{{ post.author }}</a></h6>
      <p class="card-text">in: <a href="{{ post.thread.get_absolute_url }}">{{ post.thread.title }}</a></p>
    </div>
</div>


{% empty %}
<p>---</p>
{% endfor %}

<hr>

<h4>Discussioni individuate:</h4>
{% for thread in threads %}

<div class="card mb-2">
    <div class="card-body">
      <h5 class="card-title"><a href="{{ thread.get_absolute_url }}">{{ thread.title }}</a></h5>
    </div>
</div>
{% empty %}
<p>---</p>
{% endfor %}

<hr>

<h4>Utenti individuati:</h4>
{% for user in users %}
<a href="{{ user.get_absolute_url }}">{{ user }}</a>
{% if not forloop.last %}
<span>, </span>
{% endif %}
{% empty %}
<p>---</p>
{% endfor %}

</div>
{% endblock %}